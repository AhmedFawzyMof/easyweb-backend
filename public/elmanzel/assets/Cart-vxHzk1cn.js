import{_ as y,r as p,o as a,c,a as t,b as _,w as h,t as l,F as g,h as v,j as x,e as u,i as b}from"./index-8f04eNzw.js";const C={name:"CartItem",props:{initialItem:Object},data(){return{item:this.initialItem}},methods:{getItemTotal(e){return e.quantity*e.product.price},updateCart(){this.item.quantity=parseInt(event.target.value),this.item.quantity>20?this.item.quantity=20:this.item.quantity<1&&(this.item.quantity=1),localStorage.setItem("cart",JSON.stringify(this.$store.state.cart))},removeFromCart(e){this.$emit("removeFromCart",e)}}},w={class:"flex items-center gap-4"},k=["src"],I={class:"text-sm text-gray-900"},F={class:"flex flex-1 items-center justify-end gap-2"},P=t("label",{for:"Line1Qty",class:"sr-only"}," Quantity ",-1),j=["value"],$=t("span",{class:"sr-only"},"Remove item",-1),q=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),L=[$,q];function S(e,s,n,f,o,r){const d=p("router-link");return a(),c("li",w,[t("img",{src:`/elmanzel${o.item.product.image}`,alt:"",class:"h-16 w-16 rounded object-cover"},null,8,k),t("div",null,[_(d,{to:"/elmanzel/check-out"},{default:h(()=>[t("h3",I,l(o.item.product.name),1)]),_:1})]),t("div",F,[t("p",null,l(o.item.product.price),1),t("form",null,[P,t("input",{type:"number",min:"1",max:"20",value:o.item.quantity,onInput:s[0]||(s[0]=(...i)=>r.updateCart&&r.updateCart(...i)),id:"Line1Qty",class:"h-8 w-12 rounded border-gray-200 bg-gray-50 p-0 text-center text-gray-600 [-moz-appearance:_textfield] focus:outline-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none text-sm"},null,40,j)]),t("button",{onClick:s[1]||(s[1]=(...i)=>r.removeFromCart&&r.removeFromCart(...i)),class:"text-gray-600 transition hover:text-red-600"},L)])])}const T=y(C,[["render",S]]),z="/cart.png",E={name:"Cart",components:{CartItem:T},data(){return{cart:{items:[]}}},mounted(){this.cart=this.$store.state.cart,this.$store.state.Lang?document.title="عربة التسوق الخاصة بي | المنزل":document.title="My Cart | المنزل"},methods:{removeFromCart(e){const s=[];this.cart.items.forEach(n=>{(n.product.id!==e.product.id||n.product.id===e.product.id&&n.color!==e.color)&&s.push(n)}),localStorage.setItem("cart",JSON.stringify({items:s})),location.reload()}},computed:{cartTotalPrice(){return this.cart.items.reduce((e,s)=>e+=s.product.price*s.quantity,0)},shippingPrice(){return this.cartTotalPrice*.1}}},N={key:0,class:"mx-auto max-w-screen-xl px-4 py-8 sm:px-6 sm:py-12 lg:px-8"},B={class:"mx-auto max-w-3xl"},G=t("header",{class:"text-center"},[t("h1",{class:"text-xl font-bold text-gray-900 sm:text-3xl"},"My Cart")],-1),M={class:"mt-8"},O={class:"space-y-4"},Q={class:"mt-8 flex justify-end border-t border-gray-100 pt-8"},R={class:"w-screen max-w-lg space-y-4"},V={class:"space-y-0.5 text-sm text-gray-700"},J={class:"flex justify-between"},D=t("dt",null,"Subtotal",-1),H={class:"flex justify-between"},A=t("dt",null,"Shipping",-1),K={class:"flex justify-between !text-base font-medium"},U=t("dt",null,"Total",-1),W={class:"flex justify-end"},X={key:1,class:"bg-gray-50 w-full flex items-center flex-col justify-center"},Y=t("img",{src:z,alt:"Empty Cart",class:"sm:w-1/2"},null,-1),Z={class:"capitalize"};function tt(e,s,n,f,o,r){const d=p("CartItem"),i=p("router-link");return a(),c("section",null,[o.cart.items.length>0?(a(),c("div",N,[t("div",B,[G,t("div",M,[t("ul",O,[(a(!0),c(g,null,v(o.cart.items,m=>(a(),b(d,{key:m.product.id,initialItem:m,onRemoveFromCart:et=>r.removeFromCart(m)},null,8,["initialItem","onRemoveFromCart"]))),128))]),t("div",Q,[t("div",R,[t("dl",V,[t("div",J,[D,t("dd",null,l(r.cartTotalPrice)+" EGP",1)]),t("div",H,[A,t("dd",null,l(r.shippingPrice.toFixed(2))+" EGP",1)]),t("div",K,[U,t("dd",null,l((r.cartTotalPrice+r.shippingPrice).toFixed(2))+" EGP",1)])]),t("div",W,[_(i,{to:"/elmanzel/check-out",class:"block rounded bg-red-600 px-5 py-3 text-sm text-gray-100 transition hover:bg-gray-600"},{default:h(()=>[u(" Checkout ")]),_:1})])])])])])])):x("",!0),o.cart.items.length==0?(a(),c("div",X,[Y,t("p",Z,[u(" the cart is empty go "),_(i,{to:"/elmanzel/",class:"text-red-600"},{default:h(()=>[u(" shopping ")]),_:1})])])):x("",!0)])}const rt=y(E,[["render",tt]]);export{rt as default};
